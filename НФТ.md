# Нефункциональные требования (НФТ)

## 1. Безопасность  
**Критичность:** Критично  

### Требования
- Пользовательское соглашение о данных.  
- Защита персональных данных на всех уровнях.  
- Соответствие требованиям OWASP Top 10.  
- Шифрование данных в покое (AES-256) и при передаче (TLS 1.3).  
- Верификация пользователя, защита от Brute Force, защита сессий, защита от подделки токенов.  
- Rate limiting и captcha при множественных неудачных попытках входа.  
- Контроль доступа (RBAC / ABAC).  
- Регулярное проведение security-аудитов и тестирования на уязвимости.

### Метрики
- Количество необработанных уязвимостей: **0**.  
- Доля зашифрованных данных: **100%**.  
- Среднее время реакции на инцидент: **≤ 15 минут**.  
- Блокировка Brute Force попыток: **≥ 99%**.  
- Соответствие OWASP Top 10: **100% требований закрыто**.

---

## 2. Интеграции  
**Критичность:** Высокая  

### Требования
- Корректная интеграция дополнительных устройств трекинга.  
- Поддержка HealthKit, Google Fit, датчиков сердцебиения, кислорода, шагомеров, спортивных часов.  
- Стабильная работа Bluetooth и ANT+.  
- Обработка ошибок синхронизации: retry-механизм, очереди, дедубликация.

### Метрики
- Успешная синхронизация: **≥ 99%**.  
- Среднее время синхронизации: **≤ 3 сек**.  
- Количество ошибок BLE/ANT+: **≤ 0.5%**.  
- Время восстановления после ошибки интеграции: **≤ 10 сек**.

---

## 3. Масштабируемость  
**Критичность:** Критично  

### Требования
- Возможность горизонтального масштабирования сервисов.  
- Готовность к переходу на микросервисную архитектуру.  
- Балансировка нагрузки.  
- Кэширование горячих данных.  
- Возможность работы в условиях всплесков трафика ×10–×50.

### Метрики
- Максимальная нагрузка без деградации SLA: **x10 текущей**.  
- Время масштабирования (auto-scaling): **≤ 60 сек**.  
- Уровень кэш-хитов: **≥ 85%**.  
- Среднее время ответа под нагрузкой: **≤ 200 мс**.

---

## 4. Наблюдаемость (Observability)  
**Критичность:** Высокая  

### Требования
- Логирование всех бизнес- и системных событий.  
- Централизованный сбор логов.  
- Метрики и мониторинг (Prometheus/Grafana).  
- Трассировка запросов (OpenTelemetry).  
- Настройка алертов на отклонения SLA/SLO.

### Метрики
- Доля покрытых трассировкой операций: **≥ 95%**.  
- Доля логированных ошибок: **100%**.  
- Среднее время появления алерта при отклонении: **≤ 30 сек**.  
- Полнота логирования (лог-ивентов): **≥ 98%**.

---

## 5. Надёжность  
**Критичность:** Критично  

### Требования
- Высокая доступность системы.  
- Резервирование данных.  
- Репликация БД.  
- Предсказуемое поведение при сбоях: timeout, retry, circuit breaker.  
- Автоматическое переключение на резервные узлы.  

### Метрики
- Доступность системы (Uptime): **≥ 99.9%**.  
- Потеря данных при сбоях: **0**.  
- Время восстановления после инцидента (MTTR): **≤ 5 минут**.  
- Время между отказами (MTBF): **≥ 90 дней**.  
- Успешность восстановления из бэкапа: **100% тестов успешны**.

---
